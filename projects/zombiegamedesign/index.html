<!doctype html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<title>Unreal Zombie Game Development I - Shengting Cao&#39;s Note Book</title>
<meta name="viewport" content="width=device-width, initial-scale=1">



  <meta name="generator" content="Hugo 0.58.2" />
  <meta itemprop="name" content="Unreal Zombie Game Development I">
<meta itemprop="description" content="My first game developed using C&#43;&#43; and Blueprint in Unreal Engine 4, I will list some image for Blureprint and document how I inplemented it.">


<meta itemprop="datePublished" content="2020-03-20T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2020-03-20T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="1108">



<meta itemprop="keywords" content="" />

  <meta property="og:title" content="Unreal Zombie Game Development I" />
<meta property="og:description" content="My first game developed using C&#43;&#43; and Blueprint in Unreal Engine 4, I will list some image for Blureprint and document how I inplemented it." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://shengtingcao.top/projects/zombiegamedesign/" />
<meta property="article:published_time" content="2020-03-20T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-03-20T00:00:00+00:00" />

  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Unreal Zombie Game Development I"/>
<meta name="twitter:description" content="My first game developed using C&#43;&#43; and Blueprint in Unreal Engine 4, I will list some image for Blureprint and document how I inplemented it."/>

  

  <link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/github.min.css">
  
    
      <link rel="stylesheet" href="/css/normalize.css">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,800,900|Source+Sans+Pro:400,700">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css">
      <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.9.0/css/all.css" integrity="sha384-i1LQnF23gykqWXg6jxC2ZbCbUMxyw5gLZY6UiUS98LYV5unm8GWmfkIS6jqJfb4E" crossorigin="anonymous">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.3.5/jquery.fancybox.min.css" />
      
      
      <link rel="stylesheet" href="/css/main.min.0a64f3eede6e78edc2d8b2ca7051e4d9a6379f472dac76b1168733b88d27146a.css" integrity="sha256-CmTz7t5ueO3C2LLKcFHk2aY3n0ctrHaxFoczuI0nFGo=">
      <link rel="stylesheet" href="/css/add-on.css">
    
  
  
  
  
</head>

  <body>
    
<header id="site-header">
  <nav id="site-nav">
    <h1 class="nav-title">
      <a href="/">
        
          
            projects
          
        
      </a>
    </h1>
    <menu id="site-nav-menu" class="flyout-menu">
      
        
          
          
            <a href="/" class="link"><i class='far fa-id-card'></i> Bio</a>
          
        
      
        
          
          
            <a href="/projects/" class="link"><i class='far fa-newspaper'></i> Projects</a>
          
        
      
        
          
          
            <a href="/categories/" class="link"><i class='fas fa-sitemap'></i> Categories</a>
          
        
      
      <a href="#share-menu" class="share-toggle"><i class="fas fa-share-alt">&nbsp;</i>Share</a>
      
<a href="/search/" class="link"><i class="fas fa-search"></i> Search</a>

    </menu>
    
<a href="/search/" class="link"><i class="fas fa-search"></i> Search</a>

    <a href="#share-menu" class="share-toggle"><i class="fas fa-share-alt fa-2x">&nbsp;</i></a>
    <a href="#lang-menu" class="lang-toggle" lang="en">en</a>
    <a href="#site-nav" class="nav-toggle"><i class="fas fa-bars fa-2x"></i></a>
  </nav>
  <menu id="lang-menu" class="flyout-menu">
  <a href="#" lang="en" class="link active">English (en)</a>
  
    
      
    
      
        <a href="/jp" lang="jp" class="no-lang link">日本語 (jp)</a>
      
    
      
        <a href="/cn" lang="cn" class="no-lang link">中文 (cn)</a>
      
    
  
  
</menu>

  
    <menu id="share-menu" class="flyout-menu">
      <h1>Share Post</h1>
      





    </menu>
  
</header>

    <div id="wrapper">
      <section id="site-intro">
  <a href="/"><img src="/img/main/logo.jpg" class="circle" width="100" alt="Debug the world! Touch the theory!" /></a>
  <header>
    <h1>曹胜庭 Shengting Cao</h1>
  </header>
  <main>
    <p>Debug the world! Touch the theory!</p>
  </main>
  
    <footer>
      <ul class="socnet-icons">
        
        <li><a href="//github.com/scao7" target="_blank" rel="noopener" title="GitHub" class="fab fa-github"></a></li>











<li><a href="//linkedin.com/in//shengting-steven-cao-aa5672136" target="_blank" rel="noopener" title="LinkedIn" class="fab fa-linkedin"></a></li>







<li><a href="//youtube.com/channel/UCDItL8_wS1VLYaSrT6m9BFA" target="_blank" rel="noopener" title="YouTube" class="fab fa-youtube"></a></li>


















<li><a href="mailto:codescao7@gmailcom" target="_blank" title="Email" class="far fa-envelope"></a></li>

      </ul>
    </footer>
  
</section>

      <main id="site-main">
        <article class="post">
  <header>
  <div class="title">
    
        <h2><a href="/projects/zombiegamedesign/">Unreal Zombie Game Development I</a></h2>
    
    
        <p>My first game developed using C&#43;&#43; and Blueprint in Unreal Engine 4, I will list some image for Blureprint and document how I inplemented it.</p>
    
</div>
  <div class="meta">
    <time class="published" datetime="2020-03-20 00:00:00 &#43;0000 UTC">
      March 20, 2020
    </time>
    <span class="author">Shengting Cao</span>
    
      <p>6 minutes read</p>
    
  </div>
</header>

  <section id="socnet-share">
    





  </section>
  

  <div class="content">
    

<p>First I will list some resource website I got from the internet:</p>

<p><a href="https://learn.unrealengine.com/">Unreal Engine Official Tutorial Site</a> Need account to access.</p>

<p><a href="https://learn.unrealengine.com/">Mixamo</a> This is the website I got my 3D character and animation, you can upload your own model to get it animated.</p>

<p>This blog is going to illustrate the logic for the game, for other animation or project setup will be described in next blog.</p>

<h3 id="create-a-character">Create a character</h3>

<p>First go to create a project using C++ without any start content. In the C++ Class folder create a &ldquo;BaseCharacter&rdquo; class.</p>

<p><img src="/img/2020/03/pic1.png" alt="" /></p>

<p>In the &ldquo;BaseCharacter.h&rdquo; and &ldquo;BaseCharacter.cpp&rdquo;, the unreal engine has already generated some code for us. We can fill the file by using the code following:</p>

<pre><code class="language-cpp">// Fill out your copyright notice in the Description page of Project Settings.
#pragma once

#include &quot;CoreMinimal.h&quot;
#include &quot;GameFramework/Character.h&quot;
#include &quot;BaseCharacter.generated.h&quot;

//Step 1: Make this class avalibale to Blueprint
UCLASS(Blueprintable)
class TWISTSHOOTING_API ABaseCharacter : public ACharacter
{
	GENERATED_BODY()

public:

	//Step 2: Expose a float property
	UPROPERTY(BlueprintReadWrite, EditAnywhere, Category = &quot;BaseCharacter&quot;)
		float Health = 100;

	//Step 3: Expose a boolean property
	UPROPERTY(BlueprintReadOnly, VisibleAnywhere, Category = &quot;BaseCharacter&quot;)
		bool isDead = false;

	//Step 4: Make a helper function, just because we are lazy
	virtual void CalculateDead();

	//Step 5: Expose a method
	UFUNCTION(BlueprintCallable, Category = &quot;BaseCharacter&quot;)
		virtual void CalculateHealth(float delta);


	//Step 6: Editor code to make updating values in the editor cleaner
#if WITH_EDITOR
	virtual void PostEditChangeProperty(FPropertyChangedEvent&amp; PropertyChangedEvent)
		override;
#endif


	// Sets default values for this character's properties
	ABaseCharacter();

protected:
	// Called when the game starts or when spawned
	virtual void BeginPlay() override;The step3 is create boolean variabel and make it readOnly in the blueprint.

public:
	// Called every frame
	virtual void Tick(float DeltaTime) override;

	// Called to bind functionality to input
	virtual void SetupPlayerInputComponent(class UInputComponent* PlayerInputComponent) override;

};


</code></pre>

<p>As you can see we used 6 steps, the first one is make this c++ class available for blueprint, second is to expose the health variable to the blueprint and it can be read and writeThe step3 is create boolean variable and make it readOnly in the blueprint. , EditAnywhere and the category is &ldquo;BaseCharacter&rdquo;
The step3 is create boolean variable and make it readOnly in the blueprint. Step 4 is just a help function for us to calculate the health. Step 5 will create a method and make it callable in blueprint. Step 6 just say if we edit the variable in blueprint it will override the property in the c++ scripts.</p>

<p>The follow code are those function we have to implement according to the &ldquo;BaseCharacter.h&rdquo; file:</p>

<pre><code class="language-c++">//Step 1: Implement the CalculateHealth function.
void ABaseCharacter::CalculateHealth(float Delta)
{
	Health += Delta;
	CalculateDead();
}
//Step 2: Implement the CalculateDead function.
void ABaseCharacter::CalculateDead()
{
	if (Health &lt;= 0)
		isDead = true;
	else
		isDead = false;

}
#if WITH_EDITOR
//Step 3: Implement the remainder of our helper code, used by the editor when we change values.
void ABaseCharacter::PostEditChangeProperty(FPropertyChangedEvent&amp; PropertyChangedEvent)
{
	isDead = false;
	Health = 100;
	Super::PostEditChangeProperty(PropertyChangedEvent);
	CalculateDead();
}
#endif

</code></pre>

<p>This three functions are declared in the .h file so we need to implement it. The first one is the help function CalculateHealth(). Basically, when call this function it will calculate the health and call the function CalculateDead. The CalculateDead is just return true if health less or equal to 0 and return false if larger than 0. The last one is implement the remainder of our helper code, when we change values change valudes.</p>

<p>This scripts is the only c++ I used in this project, the rest of the logic are all implemented in blueprint.</p>

<h3 id="character-movement-and-damageable-setup">character movement and damageable setup</h3>

<p>To setup the the character movement first we need go to Edit and project setting to set our input key.</p>

<p>![set input ]
Right click our c++ class and create a bluprint, we can call it newCharacter</p>

<p><img src="/img/2020/03/pic3.png" alt="newCharacter pic3" /></p>

<p>This is the blueprint logic for the movement and rotation</p>

<p><img src="/img/2020/03/pic4.png" alt="newCharacter movement and rotation logic pic4" /></p>

<p>This is the blueprint logic for the damage the the character:</p>

<p><img src="/img/2020/03/pic5.png" alt="newCharacter damage pic5" /></p>

<p>The Event Affect Health is the interface we created, the interface we create as below:</p>

<p><img src="/img/2020/03/pic6.png" alt="idamage interface pic6" /></p>

<p>The interface is a way to communicate between blueprints. Eventually, the interface is convenient for us to indicate the if caused damage or not. In this case we want projectile can communicate with character and zombies.</p>

<p>In the new character blueprint, we need also setup the gameplay stuff as the image shows:</p>

<p><img src="/img/2020/03/pic7.png" alt="game begin pic7" /></p>

<p>At the Event Beginplay we need 3 different things happen: spawn weapon, start the HUD Widget and start the game mode (this is just remember the player spawn location since once the character get destroied we lost everything and we need save those information in the game mode.)</p>

<p>Those three are the main blueprint scripts.</p>

<h3 id="enemy-character-blueprint">enemy character blueprint</h3>

<p>First we create a zombie blueprint using the same way that create our main character.
In this section, we want if the zombie overlapped with the human we need do damage to our main character.</p>

<p><img src="/img/2020/03/pic8.png" alt="pic8 enemy collision" /></p>

<p>In the ActorBeginOverlap, we cast to newCharacter which is our main character, and we can save the character in a variable and call a timer function. When it overlapped, the timer will call the customized function DamageTheHero in a time interval. The &ldquo;DamageTheHero&rdquo; function is just call the affect health. After the overlap end it checks if overlap with hero and clear the timer function.</p>

<p>The last one is the affect health interface in enemy blueprint</p>

<p><img src="/img/2020/03/pic9.png" alt="affect health in enemy blueprint pic9" /></p>

<p>First it will calculate the health and check if zombie dead. If it is dead, we need ignore the collision of the zombie and upgrade the score in game mode. In the end deactivate the movement of zombies and destroy it. We set delay here to play an animation.</p>

<h3 id="weapon-blueprint">weapon blueprint</h3>

<p>For the weapon we need to have three functions: pullTrigger, Release Trigger and Fire:</p>

<p><img src="/img/2020/03/pic10.png" alt="weapon blueprint pic10" /></p>

<p>First, when a fire event triggered spawn a sound and attach to the gun mesh then spawn a projectile out. When pull trigger , we run the set timer by function once to avoid multiple shooting when only pull trigger once.</p>

<h3 id="projectile-blueprint">projectile blueprint</h3>

<p>Projectile is just the bullet that shoot out, we can define some property and behavior of the projectile.</p>

<p><img src="/img/2020/03/pic11.png" alt="projectile pic11" /></p>

<p>When projectile overlapped with the actor, call the iDamgeable interface which means the projectile can damage both enemies and our main character. If we don&rsquo;t want to damage friend character, we can setup a tag for the character. For example, I run a check if the actor has tag. If no tag, we can call the damage function and spawn the sound. In the end delete the enemy.</p>

<p>That is all the logic blueprint for enemy and main charcter behavior and our weapon system. Next blog I will talk about animation and how to setup those assets in the game.</p>

  </div>
  <footer>
    <ul class="stats">
  
    
    
      <li class="categories">
        <ul>
          
            
            <li><a class="article-category-link" href="https://shengtingcao.top/categories/game-development">Game Development</a></li>
          
        </ul>
      </li>
    
  
  
    <li class="tags">
      <ul>
        <li>None</li>
      </ul>
    </li>
  
</ul>

  </footer>
</article>


<div class="pagination">
  
    <a href="/projects/computervisionnote3/" class="button big previous"><i class="fas fa-angle-left"></i> Computer vision problem and step by step</a>
  
  
    <a href="/projects/github_token/" class="button big next">GitHub new security config <i class="fas fa-angle-right"></i></a>
  
</div>


      </main>
      <section id="site-sidebar">
  

  
    
      <section id="categories">
        <header>
          <h1><a href="/categories">Categories</a></h1>
        </header>
        <ul>
          
            
          
          
          <li>
            
              <a href="/categories/computer-graphics/">computer-graphics<span class="count">6</span></a>
            
          
          <li>
            
              <a href="/categories/android-development/">android-development<span class="count">5</span></a>
            
          
          <li>
            
              <a href="/categories/computer-vision/">computer-vision<span class="count">3</span></a>
            
          
          <li>
            
              <a href="/categories/programming-languages/">programming-languages<span class="count">3</span></a>
            
          
          <li>
            
              <a href="/categories/latex/">latex<span class="count">2</span></a>
            
          
          <li>
            
              <a href="/categories/deep-learning/">deep-learning<span class="count">1</span></a>
            
          
          <li>
            
              <a href="/categories/game-development/">game-development<span class="count">1</span></a>
            
          
          <li>
            
              <a href="/categories/github/">github<span class="count">1</span></a>
            
          
          <li>
            
              <a href="/categories/internet-ssh/">internet-ssh<span class="count">1</span></a>
            
          
          <li>
            
              <a href="/categories/linux/">linux<span class="count">1</span></a>
            
          
          <li>
            
              <a href="/categories/machine-learning/">machine-learning<span class="count">1</span></a>
            
          
          <li>
            
              <a href="/categories/probability/">probability<span class="count">1</span></a>
            
          
          </li>
        </ul>
      </section>
    
  

  <section id="mini-bio">
    <header>
      <h1>About</h1>
    </header>
    <p>Hugo is the tool I have used to build this website.</p>
    <footer>
      <a href="/about" class="button">Learn More</a>
    </footer>
  </section>
</section>

      <footer id="site-footer">
  
      <ul class="socnet-icons">
        
        <li><a href="//github.com/scao7" target="_blank" rel="noopener" title="GitHub" class="fab fa-github"></a></li>











<li><a href="//linkedin.com/in//shengting-steven-cao-aa5672136" target="_blank" rel="noopener" title="LinkedIn" class="fab fa-linkedin"></a></li>







<li><a href="//youtube.com/channel/UCDItL8_wS1VLYaSrT6m9BFA" target="_blank" rel="noopener" title="YouTube" class="fab fa-youtube"></a></li>


















<li><a href="mailto:codescao7@gmailcom" target="_blank" title="Email" class="far fa-envelope"></a></li>

      </ul>
  
  <p class="copyright">
    
      &copy; 2022
      
        Shengting Cao&#39;s Note Book
      
    . <br>
    Theme: <a href='https://github.com/pacollins/hugo-future-imperfect-slim' target='_blank' rel='noopener'>Hugo Future Imperfect Slim</a><br>A <a href='https://html5up.net/future-imperfect' target='_blank' rel='noopener'>HTML5 UP port</a> | Powered by <a href='https://gohugo.io/' title='0.58.2' target='_blank' rel='noopener'>Hugo</a>
  </p>
</footer>

<a id="back-to-top" href="#" class="fas fa-arrow-up fa-2x"></a>


<!DOCTYPE html>

<html>
  <head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">

    
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>

    
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"
        onload="renderMathInElement(document.body);"></script>

  </head>
</html>

      
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/vbscript-html.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/css.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/javascript.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/matlab.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>


  
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/skel/3.0.1/skel.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.3.5/jquery.fancybox.min.js"></script>
  <script src=/js/util.js></script>
  <script src=/js/main.js></script>
  <script src=/js/add-on.js></script>
  





    </div>
  </body>
</html>
